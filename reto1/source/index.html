<!DOCTYPE html>
<html>
<head>
    <title>BatCode</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="css/phoneindex.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery.js"></script>
    <style type="text/css"></style>    
</head>
<body>
    <div id="fullfade" class="disable"></div>
    <div id="message" class="disable">
        <div id="message_text">Se volvera a la posicion inical</div>
        <div id="message_button">
            <button id="message_accept" onclick="closemsg()">Aceptar</button>
        </div>
    </div>
    <div id="wrapper">
        <input id="type" type="hidden" value="">
        <div id="secundario">
            <div id="logo">
                <div id="inner_logo"></div>
            </div>
            <div id="switch_manauto">
                <div class="vertical_half">
                    <button id="button_manual" onclick="showhide('auto_display','control_manual')">Manual</button>
                </div>
                <div class="vertical_half">
                    <button id="button_auto" onclick="showhide('control_manual', 'auto_display')">Auto</button>
                </div>
            </div>
            <div id="stats">
                <div id="inner_stats"></div>
            </div>
        </div>
        <div id="principal">
            <div class="vertical_half vertical_half_responsive">
                <div  id="manual_display" class="horizontal_float">
                    <div id="fade_manual_display"></div>
                    <div id="control_manual">
                        <div id="inner_manual">
                            <div id="manual_input">
                                <div id="test"><input id="manual_data" type="text" value="1" maxlength="3"></div>
                                <button id="accept_manual" onclick="position()">Aceptar</button>
                            </div>
                            <div id="buttons">
                                <button id="mas" onclick="add()">
                                    <img src="resources/plus.png" alt="">
                                </button>
                                <button id="less" onclick="substract()">
                                    <img src="resources/minus.png" alt="">
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="animation" class="">
                        <div id="animation_box" class="stage stage1"></div>
                    </div>
                </div>
                <div id="always_displayed" class="horizontal_float">
                    <div id="inner_displayed">

                    </div>
                </div>
            </div>
            <div class="vertical_half vertical_half_responsive">
                <div  id="auto_display" class="horizontal_float horizontal_float_responsive">
                    <div id="fade_auto_display"></div>
                    <div id="control_auto">

                        <div id="inner_auto">
                            Automatico
                            <button>test</button>
                        </div>
                    </div>
                </div>
                <div id="pause_continue" class="horizontal_float horizontal_float_responsive">
                    <div id="inner_pause">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>

    </footer>
</body>
<script>
    $(document).ready(function () {     
        var h = $(window).height();
        var w = $(window).width();        
        $("body").height(h);
        $("body").width(w);
    	showmsg();       
    });    
    $(window).resize(function () {
        if($("#type").width()==1){
            var h = $(window).height();
            var w = $(window).width();       
            $("body").height(h);
            $("body").width(w);
        }
    }); 
    function showmsg(){
        document.getElementById("fullfade").classList.remove('disable');
        document.getElementById("message").classList.remove('disable');
    }
    function closemsg(){
        document.getElementById("fullfade").classList.add('disable');
        document.getElementById("message").classList.add('disable');
        document.getElementById("animation_box").style.margin = "0 0 0 0";
        document.getElementById("manual_data").value = "1";
    }
    function position() {
        var x = parseInt(document.getElementById("manual_data").value);
        if(x >= 1 && x <= 500) {
            var margin = x * 90 / 500;
            document.getElementById("animation_box").style.margin = "0 0 0 " + (margin) + "%";
        }
    }
    if($("#type").width()===0){
        $("#auto_display").hide();
        $("#pause_continue").hide();
        document.getElementById("fade_auto_display").classList.add('disable');
        document.getElementById("fade_manual_display").classList.add('disable');
        document.getElementById("fade_manual_display").classList.add('disable');
        document.getElementById("button_manual").setAttribute("disabled","disabled");
    }else{
        document.getElementById("fade_manual_display").classList.add('disable');
        document.getElementById("button_manual").setAttribute("disabled","disabled");        
    }
	var elo = document.getElementById("animation_box");
	/*setInterval(function(){
		if(elo.classList.contains("stage1")){
			elo.classList.add("stage2");
			elo.classList.remove("stage1");	
		}else if(elo.classList.contains("stage2")){
			elo.classList.add("stage3");
			elo.classList.remove("stage2");	
		}else if(elo.classList.contains("stage3")){
			elo.classList.add("stage1");
			elo.classList.remove("stage3");	
		}
	},2000);*/

    function showhide(tohide, toshow){ 
        showmsg();    
        var chance = $("#type").width();
        if (chance===0) {
            var element = document.getElementById("animation");        
            if(element.classList.contains("animation_responsive")||toshow!="auto_display"){            
                element.classList.remove("animation_responsive"); 
                $("#pause_continue").hide();
                document.getElementById("button_manual").setAttribute("disabled","disabled");
                document.getElementById("button_auto").removeAttribute("disabled");
            }else {
                element.classList.add("animation_responsive"); 
                $("#pause_continue").show();
                document.getElementById("button_manual").removeAttribute("disabled","disabled");
                document.getElementById("button_auto").setAttribute("disabled","disabled");
            }     
        $("#"+tohide).hide();
        $("#"+toshow).show();
        } else {
            if (toshow === "control_manual") {
                document.getElementById("fade_manual_display").classList.add("disable");
                document.getElementById("fade_auto_display").classList.remove("disable");
                document.getElementById("button_manual").setAttribute("disabled","disabled");
                document.getElementById("button_auto").removeAttribute("disabled");
            }else {
                document.getElementById("fade_auto_display").classList.add("disable");
                document.getElementById("fade_manual_display").classList.remove("disable");
                document.getElementById("button_manual").removeAttribute("disabled","disabled");
                document.getElementById("button_auto").setAttribute("disabled","disabled");
            }
        }
    }
    function add() {
        var data = parseInt(document.getElementById("manual_data").value);
        if(data!==500)
            document.getElementById("manual_data").value = data + 1;
    }
    function substract() {
        var data = parseInt(document.getElementById("manual_data").value);
        if(data!==1)
            document.getElementById("manual_data").value = data - 1;
    }
</script>
</html>
